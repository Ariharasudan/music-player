<!DOCTYPE html>
<html>
    <head>
        <title> ordinary person music player</title>
        <link rel="stylesheet" href="interface.css">
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    </head>
    <body>
        <div class="container">
               <div class="music-player">
                <nav>
                    <div class="circle">
                         <i class="fa-solid fa-angle-left"></i>
                    </div>
                    <div class="circle">
                         <i class="fa-solid fa-bars"></i>
                    </div>
                </nav>
                <img src="kamin.jpeg" class="song-img">
               <h1>Камин</h1>
               <p> Emin and JONY</p>
               <audio  id="song"> 
                <source src="Emin & JONY - Камин (1).mp3"> 
               </audio>
               <input type="range" value="0" id="progress"> 
               <div class="controls">
                   <div><i class="fa-solid fa-backward"></i> </div>
                   <div onClick="playPause()"> <i class="fa-solid fa-play" id="ctrlIcon"></i></div>
                   <div> <i class="fa-solid fa-forward"></i></div>


               </div>
        </div>
    </body>
    <script>
        let progress = document.getElementById("progress");
         let song = document.getElementById("song");
          let ctrlIcon = document.getElementById("ctrlIcon");
          
          song.onloadedmetadata = function(){
            progress.max = song.duration;
            progress.value = song.currentTime;

          }
          function playPause(){
            if(ctrlIcon.classList.contains("fa-play")){
                song.play();
                ctrlIcon.classList.add("fa-pause");
                ctrlIcon.classList.remove("fa-play");

                
            }
            else{
                song.pause();
                ctrlIcon.classList.remove("fa-pause");
                ctrlIcon.classList.add("fa-play");

                
            }
          }
          if(song.play()){
            setInterval(()=>{ 
                progress.value = song.currentTime;
            },500);
          }
          progress.onchange = function(){
            song.play();
            song.currentTime = progress.value;
            ctrlIcon.classList.add("fa-pause");
            ctrlIcon.classList.remove("fa-play");

          }
    </script>
</html>